(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{204:function(e,t,a){e.exports=a.p+"static/media/logo.accbd2c2.svg"},379:function(e,t,a){e.exports=a.p+"static/media/IWM.3764b964.png"},380:function(e,t,a){e.exports=a.p+"static/media/GME.f7ae4790.png"},381:function(e,t,a){e.exports=a.p+"static/media/qqq.229d7574.png"},383:function(e,t,a){e.exports=a.p+"static/media/404.940ce23f.png"},384:function(e,t,a){e.exports=a.p+"static/media/money.5f22ff37.png"},411:function(e,t,a){e.exports=a(687)},47:function(e){e.exports=JSON.parse('{"a":"/api"}')},61:function(e){e.exports=JSON.parse('[{"id":1,"Company":"Nasdaq 100","Stock":"QQQ","Health":90,"userPreference":true},{"id":2,"Company":"Healthcare","Stock":"XLV","Health":89,"userPreference":true},{"id":3,"Company":"SaaS","Stock":"IGV","Health":84,"userPreference":true},{"id":4,"Company":"Speculative Biotech","Stock":"XBI","Health":68,"userPreference":true},{"id":5,"Company":"Energy","Stock":"XLE","Health":24,"userPreference":false},{"id":6,"Company":"Small Caps","Stock":"IWM","Health":52,"userPreference":false},{"id":7,"Company":"China 25","Stock":"FXI","Health":42,"userPreference":false},{"id":8,"Company":"Semiconductors","Stock":"SMH","Health":96,"userPreference":false},{"id":9,"Company":"Microcaps","Stock":"IWC","Health":50,"userPreference":false}]')},687:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),i=a(17),c=a(58),s=a(356);a(357),a(392),a(730),a(355),Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,margin:"auto",textAlign:"center",height:250}}}));var u=a(56),m=a(2),d=a(27),h=a(751),p=a(736),g=a(283),f=a(734),b=a(281),v=a(180),E=a(735),y=a(119),w=a(739),S=a(282),k=a(701),j=a(740),A=a(284),O=a(737),D=a(367),x=a.n(D),C=a(361),N=a.n(C),M=a(364),W=a.n(M),T=a(366),H=a.n(T),I=a(365),P=a.n(I),F=a(363),R=a.n(F),X=a(362),B=a.n(X),L=a(360),q=a.n(L),U=a(250),G=a.n(U),z=a(28),J=a.n(z),_=a(117),Q=a.n(_);var V={init:function(){},log:function(e){console.error(e)}};Q.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=500&&e.response.status<500||V.log(e),Promise.reject(e)}));var K={get:Q.a.get,post:Q.a.post,put:Q.a.put,delete:Q.a.delete,setJwt:function(e){}},Y=a(47),Z=a(358),$=a.n(Z),ee=Y.a+"/auth";function te(){return localStorage.getItem("token")}K.setJwt(te());var ae={login:function(e,t){var a;return J.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,J.a.awrap(K.post(ee,{email:e,password:t}));case 2:if(!(a=n.sent).data.error){n.next=7;break}return n.abrupt("return",a.data.error);case 7:return localStorage.setItem("token",a.data),n.abrupt("return",null);case 9:case"end":return n.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return $()(e)}catch(t){return null}},getJwt:te};function ne(e){var t,a,o=e.children,l=re(),c=Object(d.a)(),s=r.a.useState(!1),D=Object(i.a)(s,2),C=D[0],M=D[1],T=r.a.useState(null),I=Object(i.a)(T,2),F=I[0],X=I[1],L=r.a.useState(null),U=Object(i.a)(L,2),z=U[0],J=U[1],_=Object(n.useState)(),Q=Object(i.a)(_,2),V=Q[0],K=Q[1];Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();K(e)}catch(t){}}),[]);var Y=Boolean(F),Z=Boolean(z),$=function(){J(null)},ee=function(){X(null),$()};function te(e){return r.a.createElement(k.a,Object.assign({button:!0,component:"a"},e))}r.a.createElement(v.a,{anchorEl:F,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Y,onClose:ee},r.a.createElement(b.a,{onClick:ee},"Profile"),r.a.createElement(b.a,{onClick:ee},"My account")),r.a.createElement(v.a,{anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Z,onClose:$},r.a.createElement(b.a,null,r.a.createElement(S.a,{color:"inherit"},"About")),r.a.createElement(b.a,null,r.a.createElement(S.a,{color:"inherit"},r.a.createElement(G.a,null))),r.a.createElement(b.a,{onClick:function(e){X(e.currentTarget)}},r.a.createElement(S.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(q.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:l.root},r.a.createElement(E.a,null),r.a.createElement(p.a,{position:"fixed",className:Object(m.a)(l.appBar,Object(u.a)({},l.appBarShift,C))},r.a.createElement(g.a,null,r.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){M(!0)},edge:"start",className:Object(m.a)(l.menuButton,Object(u.a)({},l.hide,C))},r.a.createElement(N.a,null)),r.a.createElement(O.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(O.a,{item:!0,className:l.logo},r.a.createElement(ze,null)),r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:"h5",noWrap:!0},"Trend Health"))),r.a.createElement("div",{className:l.grow}),r.a.createElement("div",{className:l.sectionDesktop},V?r.a.createElement("div",null,r.a.createElement("a",{href:"/logout"},r.a.createElement("h3",{style:{color:"white"}},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginRight:"10%",position:"relative",right:"5%"}},r.a.createElement("a",{href:"/login"},r.a.createElement("h3",{style:{color:"white"}},"Login"))),r.a.createElement("div",{style:{marginRight:"10%",position:"relative",right:"5%"}},r.a.createElement("a",{href:"/signup"},r.a.createElement("h3",{style:{color:"white"}},"Signup"))))),r.a.createElement("div",{className:l.sectionMobile},r.a.createElement(S.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){J(e.currentTarget)},color:"inherit"},r.a.createElement(B.a,null))))),r.a.createElement(h.a,{variant:"permanent",className:Object(m.a)(l.drawer,(t={},Object(u.a)(t,l.drawerOpen,C),Object(u.a)(t,l.drawerClose,!C),t)),classes:{paper:Object(m.a)((a={},Object(u.a)(a,l.drawerOpen,C),Object(u.a)(a,l.drawerClose,!C),a))}},r.a.createElement("div",{className:l.toolbar},r.a.createElement(S.a,{onClick:function(){M(!1)}},"rtl"===c.direction?r.a.createElement(R.a,null):r.a.createElement(W.a,null))),r.a.createElement(w.a,null),r.a.createElement(f.a,null,r.a.createElement(te,{button:!0,href:"Sector",key:"Sector"},r.a.createElement(j.a,null,r.a.createElement(P.a,null)),r.a.createElement(A.a,{primary:"Sector"})),r.a.createElement(te,{button:!0,href:"Watchlist",key:"Watchlist"},r.a.createElement(j.a,null,r.a.createElement(H.a,null)),r.a.createElement(A.a,{primary:"Watchlist"}))),r.a.createElement(w.a,null),r.a.createElement("div",null,r.a.createElement(f.a,null,V?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{button:!0,href:"User",key:"User"},r.a.createElement(j.a,null,r.a.createElement(G.a,null)),r.a.createElement(A.a,{primary:"User Settings"}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(te,{button:!0,href:"About",key:"About"},r.a.createElement(j.a,null,r.a.createElement(x.a,null)),r.a.createElement(A.a,{primary:"About"}))))),o)}var re=Object(s.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),logo:{width:40,marginRight:5},sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),toolbar:Object(c.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},grow:{flexGrow:1}}})),oe=a(61);function le(){for(var e=Y.a+"/createSectors",t=[],a=0;a<oe.length;a++){var n={indexName:oe[a].Stock,sectorName:oe[a].Company};t.push(n)}return K.post(e,{mainSectors:t})}var ie=a(117);function ce(e){var t;return J.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.a.awrap(ie({method:"GET",url:"https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-summary",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"apidojo-yahoo-finance-v1.p.rapidapi.com","x-rapidapi-key":"31d1e22625msh0d27ce9220d6290p13cfdfjsn3e5237afdbdf"},params:{region:"US",symbol:"".concat(e)}}).then((function(e){return e})).catch((function(e){console.log(e)})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))}var se=a(106),ue=a.n(se);a(441).CronJob;function me(){var e="07S5MN2IBXDCQAGB",t=0,a={name:oe[t].Company,symbol:oe[t].Stock,topHoldingsNames:[],topHoldingsPcts:[],priceData:[],adxData:[],macdData:[]},n=function(){console.log("Yahoo data..."),ce(a.symbol).then((function(e){for(var t=0;t<10;t++)a.topHoldingsNames.push(e.data.topHoldings.holdings[t].symbol),a.topHoldingsPcts.push(e.data.topHoldings.holdings[t].holdingPercent.raw)})).then((function(){r()}))},r=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=MACD&symbol=".concat(oe[t].Stock,"&interval=weekly&series_type=close&apikey=").concat(e),async:!0,dataType:"json",success:function(e){Object.entries(e["Technical Analysis: MACD"]).forEach((function(e,t){var n=Object(i.a)(e,2),r=(n[0],n[1]);a.macdData.push(Number(r.MACD))})),console.log("PASSING WASHED SECTORS TO Update sectors API"),console.log(a);var n=Y.a+"/updateSectors";K.put(n,a),++t<oe.length&&(o(),a={name:oe[t].Company,symbol:oe[t].Stock,priceData:[],adxData:[],macdData:[],topHoldingsNames:[],topHoldingsPcts:[]})}})},o=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=".concat(oe[t].Stock,"&apikey=").concat(e),async:!0,dataType:"json",success:function(r){Object.entries(r["Weekly Time Series"]).forEach((function(e,t){var n=Object(i.a)(e,2),r=(n[0],n[1]);a.priceData.push(Number(r["4. close"]))})),ue.a.ajax({url:"https://www.alphavantage.co/query?function=ADX&symbol=".concat(oe[t].Stock,"&interval=weekly&time_period=10&apikey=").concat(e),async:!0,dataType:"json",success:function(e){Object.entries(e["Technical Analysis: ADX"]).forEach((function(e,t){var n=Object(i.a)(e,2),r=(n[0],n[1]);a.adxData.push(Number(r.ADX))})),n()}})}})};o()}Object(s.a)((function(e){return{root:{width:"100%",maxWidth:120,backgroundColor:e.palette.background.paper}}}));var de=a(86),he=a(287),pe=a(394),ge=a(245),fe=a(705),be=a(286),ve=function(e){e.isValid;var t=e.field,a=Object(pe.a)(e,["isValid","field"]);return r.a.createElement(ge.a,null,r.a.createElement(be.a,Object.assign({variant:"outlined"},t,a,{style:Ee.input})),r.a.createElement(fe.a,{style:Ee.errMsg},r.a.createElement(de.a,{name:t.name})))},Ee={errMsg:{color:"red"},input:{width:300}},ye=function(){return r.a.createElement(de.c,null,r.a.createElement(O.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",spacing:3},r.a.createElement(O.a,{item:!0},r.a.createElement(de.b,{type:"email",name:"email",label:"Email Address",component:ve})),r.a.createElement(O.a,{item:!0},r.a.createElement(de.b,{type:"password",name:"password",label:"Password",autoComplete:"none",component:ve})),r.a.createElement(O.a,{item:!0},r.a.createElement(he.a,{variant:"contained",color:"primary",type:"submit",style:we.btn},"Submit"))))},we={btn:{width:300}},Se=void 0,ke=Object(de.d)({mapPropsToValues:function(e){return{email:e.email||"",password:e.password||""}},handleSubmit:function(e,t){var a,n;return J.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.resetForm,t.setErrors,t.setSubmitting,r.prev=1,r.next=4,J.a.awrap(ae.login(e.email,e.password));case 4:(a=r.sent)?alert(a):window.location="/",r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),r.t0.response&&400===r.t0.response.status&&((n=Object(c.a)({},Se.state.errors)).username=r.t0.response.data,Se.setState({errors:n}));case 11:console.log(e);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}})(ye);function je(e){var t=Y.a+"/user";return K.post(t,{email:e.email,password:e.password,name:"TestUser",userSettings:{fastSMA:10,slowSMA:40,fastWeight:20,slowWeight:20,fastToSlowWeight:20,MACDWeight:20,ADXWeight:20}})}function Ae(e){var t,a;return J.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Y.a+"/getUserSettings",n.next=3,J.a.awrap(K.post(t,{email:e}));case 3:if(!(a=n.sent).data.error){n.next=8;break}return n.abrupt("return",a.data.error);case 8:return n.abrupt("return",a.data);case 9:case"end":return n.stop()}}))}var Oe=a(211),De=Oe.object().shape({email:Oe.string().email("Invalid email").required("Required"),password:Oe.string().min(3,"Too Short!").required("Required")}),xe=Object(de.d)({mapPropsToValues:function(e){return{email:e.email||"",password:e.password||""}},validationSchema:De,handleSubmit:function(e,t){var a,n;return J.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.resetForm,t.setErrors,t.setSubmitting,r.prev=1,r.next=4,J.a.awrap(je(e));case 4:a=r.sent,n=a.data,ae.loginWithJwt(n),window.location="/",r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),alert(r.t0.response.data);case 13:console.log(e);case 14:case"end":return r.stop()}}),null,null,[[1,10]])}})(ye),Ce=a(259),Ne=a(389),Me=a(194),We=a(72),Te=a(25),He=function(e){var t=e.user,a=e.onFastSMAChange,o=e.onSlowSMAChange,l=Object(n.useState)(),c=Object(i.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(),d=Object(i.a)(m,2),h=d[0],p=d[1];Object(n.useEffect)((function(){try{s||h||(u(t.fastSMA),p(t.slowSMA),a(t.fastSMA),o(t.slowSMA))}catch(e){}console.log(t)}));var g=function(e){u(e.target.value),a(parseInt(e.target.value))},f=function(e){p(e.target.value),o(parseInt(e.target.value))};return r.a.createElement(Te.a,null,r.a.createElement("fieldset",null,r.a.createElement(Te.a.Group,null,r.a.createElement(Te.a.Label,{as:"legend"},"Fast Moving"),r.a.createElement(We.a,null,r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"5",value:"5",name:"fastRadio",id:"fastRadio1",checked:5==s,onChange:g}),r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"10",value:"10",name:"fastRadio",id:"fastRadio2",checked:10==s,onChange:g}),r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"15",value:"15",name:"fastRadio",id:"fastRadio3",checked:15==s,onChange:g})))),r.a.createElement("fieldset",null,r.a.createElement(Te.a.Group,null,r.a.createElement(Te.a.Label,{as:"legend"},"Slow Moving"),r.a.createElement(We.a,null,r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"40",value:"40",name:"slowRadio",id:"slowRadio1",onChange:f,checked:40==h}),r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"60",value:"60",name:"slowRadio",id:"slowRadio2",onChange:f,checked:60==h}),r.a.createElement(Te.a.Check,{inline:!0,type:"radio",label:"80",value:"80",name:"slowRadio",id:"slowRadio3",onChange:f,checked:80==h})))))},Ie=function(e){var t=e.user,a=e.onWeightChange,o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(),m=Object(i.a)(u,2),d=m[0],h=m[1],p=Object(n.useState)(),g=Object(i.a)(p,2),f=g[0],b=g[1],v=Object(n.useState)(),E=Object(i.a)(v,2),y=E[0],w=E[1],S=Object(n.useState)(),k=Object(i.a)(S,2),j=k[0],A=k[1];Object(n.useEffect)((function(){try{c||d||f||y||j||(s(t.fastWeight),h(t.slowWeight),b(t.fastToSlowWeight),w(t.MACDWeight),A(t.ADXWeight))}catch(e){}}));var O=function(e){switch(e.target.id){case"FastSMA":e.target.value?s(parseInt(e.target.value)):s(0);break;case"SlowSMA":e.target.value?h(parseInt(e.target.value)):h(0);break;case"FasterSlowSMA":e.target.value?b(parseInt(e.target.value)):b(0);break;case"MACD":e.target.value?w(parseInt(e.target.value)):w(0);break;case"ADX":e.target.value?A(parseInt(e.target.value)):A(0)}},D=function(){a({fastWeight:c,slowWeight:d,fastToSlowWeight:f,MACDWeight:y,ADXWeight:j})};return r.a.createElement(Te.a,null,r.a.createElement(Me.a,null,r.a.createElement(We.a,null,r.a.createElement("h3",null,"Moving Averages"),r.a.createElement(Te.a.Group,{controlId:"FastSMA"},r.a.createElement(Te.a.Label,null,"Fast"),r.a.createElement(Te.a.Control,{type:"input",value:c,onChange:O,onBlur:D})),r.a.createElement(Te.a.Group,{controlId:"SlowSMA"},r.a.createElement(Te.a.Label,null,"Slow"),r.a.createElement(Te.a.Control,{type:"input",value:d,onChange:O,onBlur:D})),r.a.createElement(Te.a.Group,{controlId:"FasterSlowSMA"},r.a.createElement(Te.a.Label,null,"Faster > Slow "),r.a.createElement(Te.a.Control,{type:"input",value:f,onChange:O,onBlur:D}))),r.a.createElement(We.a,null,r.a.createElement("h3",null,"Other"),r.a.createElement(Te.a.Group,{controlId:"MACD"},r.a.createElement(Te.a.Label,null,"Weekly MACD Pos. Crossover"),r.a.createElement(Te.a.Control,{type:"input",value:y,onChange:O,onBlur:D})),r.a.createElement(Te.a.Group,{controlId:"ADX"},r.a.createElement(Te.a.Label,null,"ADX"),r.a.createElement(Te.a.Control,{type:"input",value:j,onChange:O,onBlur:D})))))};function Pe(e){var t=e.user,a=Object(n.useState)("AveragePeriod"),o=Object(i.a)(a,2),l=o[0],s=o[1],u=Object(n.useState)(),m=Object(i.a)(u,2),d=m[0],h=m[1],p=Object(n.useState)(),g=Object(i.a)(p,2),f=g[0],b=g[1],v=Object(n.useState)(),E=Object(i.a)(v,2),y=E[0],w=E[1],S=Object(n.useState)(),k=Object(i.a)(S,2),j=k[0],A=k[1];Object(n.useEffect)((function(){try{Ae(t.email).then((function(e){y||(h(e.fastSMA),b(e.slowSMA),w({fastWeight:e.fastWeight,slowWeight:e.slowWeight,fastToSlowWeight:e.fastToSlowWeight,MACDWeight:e.MACDWeight,ADXWeight:e.ADXWeight}),A({fastSMA:e.fastSMA,slowSMA:e.slowSMA,fastWeight:e.fastWeight,slowWeight:e.slowWeight,fastToSlowWeight:e.fastToSlowWeight,MACDWeight:e.MACDWeight,ADXWeight:e.ADXWeight}))}))}catch(e){}}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement(We.a,{className:"col-sm-auto"},r.a.createElement("h1",null,"User Settings")),r.a.createElement(We.a,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=Object(c.a)({},y,{fastSMA:d,slowSMA:f});!function(e,t){var a=Y.a+"/userSettings";K.post(a,{email:e,userSettings:t})}(t.email,e)}},"Save User Options"))),r.a.createElement(Ne.a,{id:"controlled-tab-example",activeKey:l,onSelect:function(e){return s(e)}},r.a.createElement(Ce.a,{eventKey:"AveragePeriod",title:"Average Period (Weekly)"},r.a.createElement(He,{user:j,onFastSMAChange:function(e){h(e)},onSlowSMAChange:function(e){b(e)}})),r.a.createElement(Ce.a,{eventKey:"Weighting",title:"Weighting (%)"},r.a.createElement(Ie,{user:j,onWeightChange:function(e){w(e)}}))))}var Fe=a(258),Re=a(197),Xe=a.n(Re);function Be(e,t,a,n){console.log(e),console.log(t),console.log(n);var r="07S5MN2IBXDCQAGB",o={livePrice:0,indexName:t,sector:a,priceData:[],adxData:[],macdData:[],averageVolumeTenDays:0,fundamentalData:{marketCap:0,sector:"",floatingShares:0,sharesShort:0,insidersPctHeld:0,nextEarningsDate:"",grossMargins:0,profitMargins:0}},l=function(){console.log("Yahoo data..."),ce(t).then((function(e){console.log(e),o.averageVolumeTenDays=e.data.summaryDetail.averageVolume10days.raw,o.livePrice=e.data.summaryDetail.ask.raw,o.fundamentalData.marketCap=e.data.summaryDetail.marketCap.fmt,o.fundamentalData.sector=e.data.summaryProfile.sector,o.fundamentalData.floatingShares=e.data.defaultKeyStatistics.floatShares.raw,o.fundamentalData.sharesShort=e.data.defaultKeyStatistics.sharesShort.raw,o.fundamentalData.insidersPctHeld=e.data.defaultKeyStatistics.heldPercentInsiders.raw,o.fundamentalData.nextEarningsDate=e.data.calendarEvents.earnings.earningsDate[0].raw,o.fundamentalData.grossMargins=e.data.financialData.grossMargins.raw,o.fundamentalData.profitMargins=e.data.financialData.profitMargins.raw})).then((function(){c()}))},c=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=MACD&symbol=".concat(t,"&interval=weekly&series_type=close&apikey=").concat(r),async:!0,dataType:"json",success:function(t){console.log("MACD:"),Object.entries(t["Technical Analysis: MACD"]).forEach((function(e,t){var a=Object(i.a)(e,2),n=(a[0],a[1]);o.macdData.push(Number(n.MACD))})),console.log(o),n.push(o),delete n[0].tableData,delete n[0]._id;var a=Y.a+"/updateWatchList";K.put(a,{watchList:n,email:e}).then((function(){window.location="/Watchlist"}))}})};ue.a.ajax({url:"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=".concat(t,"&apikey=").concat(r),async:!0,dataType:"json",success:function(e){console.log("PRICE: "),Object.entries(e["Weekly Time Series"]).forEach((function(e,t){var a=Object(i.a)(e,2),n=(a[0],a[1]);o.priceData.push(Number(n["4. close"]))})),ue.a.ajax({url:"https://www.alphavantage.co/query?function=ADX&symbol=".concat(t,"&interval=weekly&time_period=10&apikey=").concat(r),async:!0,dataType:"json",success:function(e){console.log("ADX:"),Object.entries(e["Technical Analysis: ADX"]).forEach((function(e,t){var a=Object(i.a)(e,2),n=(a[0],a[1]);o.adxData.push(Number(n.ADX))})),l()}})}})}function Le(e){var t=e.user,a=Object(n.useState)({columns:[{title:"Ticker",field:"indexName"},{title:"Sector",field:"sector"},{title:"Price",field:"price"},{title:"Health (%)",field:"health",type:"numeric"}],data:[]}),o=Object(i.a)(a,2),l=o[0],s=o[1],u=Object(n.useState)(),m=Object(i.a)(u,2),d=m[0],h=m[1],p=Object(n.useState)(),g=Object(i.a)(p,2),f=g[0],b=g[1];Object(n.useEffect)((function(){try{b(!1),function(e){var t,a;return J.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Y.a+"/getWatchList",n.next=4,J.a.awrap(K.post(t,{email:e}));case 4:return a=n.sent,n.abrupt("return",a);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}(t.email).then((function(e){e.data.length>0&&e.data.forEach((function(a,n){console.log(a),function(e,t){var a;return J.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,J.a.awrap(Ae(e).then((function(e){for(var a,n,r,o,l=Number(e.fastSMA),i=Number(e.fastWeight)/100,c=Number(e.slowSMA),s=Number(e.slowWeight)/100,u=Number(e.fastToSlowWeight)/100,m=Number(e.MACDWeight)/100,d=Number(e.ADXWeight)/100,h=0,p=0,g=0,f=0,b=0;b<l;b++)h+=t.priceData[b];a=h/l;for(var v=1;v<l+1;v++)p+=t.priceData[v];o=a>p/l?1*i:0;for(var E=0;E<c;E++)g+=t.priceData[E];n=g/c;for(var y=1;y<c+1;y++)f+=t.priceData[y];return o+(n>(r=f/c)?1*s:0)+(a>n?1*u:0)+(t.macdData[0]>t.macdData[1]?1*m:0)+(n>r?t.adxData[0]*d/100:0)})));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))}(t.email,a).then((function(t){e.data[n].health=(100*t).toFixed(1),e.data[n].indexName=e.data[n].indexName.toUpperCase(),s(Object(c.a)({},l,{data:e.data}))})).then((function(){console.log("Yahoo data..."),ce(a.indexName).then((function(t){console.log(t),console.log(t.data.summaryProfile.sector),console.log(t.data.price.marketCap.fmt),console.log(t.data.price.regularMarketOpen.raw),e.data[n].sector=t.data.summaryProfile.sector,e.data[n].marketCap="$".concat(t.data.price.marketCap.fmt),e.data[n].price="$".concat(t.data.price.regularMarketOpen.raw),s(Object(c.a)({},l,{data:e.data}))}))}))}))}))}catch(e){console.log("ERROR: "+e)}}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{class:"form-inline"},r.a.createElement("div",{class:"form-group mb-2"},r.a.createElement("label",{for:"stockTicker"},"Add Ticker to Watchlist: "),r.a.createElement("input",{type:"text",class:"form-control",id:"stockTicker",placeholder:"ex: AAPL",onChange:function(e){return h(e.target.value)}})),r.a.createElement("button",{type:"submit",class:"btn btn-primary mb-2 ml-2 mr-2",onClick:function(e){e.preventDefault();try{b(!0),Be(t.email,d,"Test Sector",l.data)}catch(a){alert("stock ticker not found - "+a)}}},"Add Stock"),f&&r.a.createElement("div",{class:"spinner-border text-primary mb-1"})),r.a.createElement(Xe.a,{title:"Watch List",columns:l.columns,data:l.data,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),s((function(t){var a=Object(Fe.a)(t.data);return a.push(e),Object(c.a)({},t,{data:a})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&s((function(a){var n=Object(Fe.a)(a.data);return n[n.indexOf(t)]=e,Object(c.a)({},a,{data:n})}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),function(e,t,a){var n,r;J.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:try{n=a.filter((function(e){return e.indexName!=t})),console.log(n),r=Y.a+"/deleteWatchList",K.put(r,{email:e,watchList:n}).then((function(){window.location="/Watchlist"}))}catch(l){}case 1:case"end":return o.stop()}}))}(t.email,e.indexName,l.data)}),600)}))}}}))}var qe=a(744),Ue=a(204),Ge=a.n(Ue),ze=function(){return r.a.createElement(qe.a,{src:Ge.a,component:"img"})};function Je(e){var t=e.sectorHealthData;console.log(t);var a=Object(n.useState)({columns:[{title:"Ticker",field:"symbol"},{title:"Sector",field:"sectorName"},{title:"Price",field:"priceTZero"},{title:"Top Holdings",field:"topHoldings"},{title:"Health (%)",field:"score",type:"numeric"}]}),o=Object(i.a)(a,2),l=o[0];o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe.a,{title:"Sector Health Dashboard",columns:l.columns,data:t,options:{toolbar:!1,draggable:!1}}),r.a.createElement(he.a,{variant:"contained",color:"primary",type:"submit",onClick:le},"Create"),r.a.createElement(he.a,{variant:"contained",color:"primary",type:"submit",onClick:me},"Update"))}var _e=function(e){var t=e.children,a=Qe();return r.a.createElement(ne,null,r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),t))},Qe=Object(s.a)((function(e){return{root:{display:"flex"},toolbar:Object(c.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Ve=a(390),Ke=a(743);function Ye(e){var t=e.children,a=Object(Ve.a)({palette:{primary:{main:"#0047AB"},secondary:{main:"#9F002D"},contrastThreshold:3,tonalOffset:.2}});return r.a.createElement(Ke.a,{theme:a},t)}var Ze=a(385),$e=a(105),et=function(){return r.a.createElement(ke,null)},tt=function(){return r.a.createElement(xe,null)},at=a(376),nt=a(377),rt=a(391),ot=a(378),lt=a(393),it=a(191),ct=function(e){function t(){return Object(at.a)(this,t),Object(rt.a)(this,Object(ot.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(nt.a)(t,[{key:"componentDidMount",value:function(){ae.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(it.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Come Back Soon!"),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(qe.a,{src:Ge.a,component:"img",style:{width:"20%",margin:"auto"}})),r.a.createElement("div",{className:"col-lg-6 ml-auto"}))))))}}]),t}(n.Component),st=a(748),ut=function(e){var t=e.sectorHealthDataPass,a=e.user,n=t;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{bgcolor:"primary.main",color:"primary.contrastText",p:4,mb:5},r.a.createElement(y.a,{variant:"h3"},"Sector Health Dashboard")),r.a.createElement(Je,{user:a,sectorHealthData:n})):null},mt=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{bgcolor:"primary.main",color:"primary.contrastText",p:4,mb:5},r.a.createElement(y.a,{variant:"h3"},"Watch List")),r.a.createElement(Le,{user:t}))},dt=function(e){var t=e.user;return r.a.createElement(Pe,{user:t})},ht=a(382);var pt=function(e){var t=e.zoom,a=e.src,n=e.alt,o=e.background,l=r.a.useRef(t.clone({background:o}));return r.a.createElement("img",{src:a,alt:n,ref:function(e){l.current.attach(e)},style:gt})},gt={textAlign:"center",cursor:"pointer",width:600},ft=a(379),bt=a.n(ft),vt=a(380),Et=a.n(vt),yt=a(381),wt=a.n(yt),St=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",width:"1200px",height:"800px"},paper:{position:"absolute",width:1300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),kt={header:{textAlign:"center",fontSize:"400%",margin:"5% 0"},paragraph:{marginTop:"1%",fontFamily:"'Roboto', serif",fontSize:"20px",paddingLeft:"1em"},subHeader:{marginTop:"2%",fontWeight:"bold"},quote:{padding:".5em 0 0 3em",fontWeight:"100",fontSize:"20px",fontStyle:"italic"},note:{padding:"0 0 0 3em",fontWeight:"bold",fontStyle:"italic"}},jt=function(){St();var e=r.a.useRef(Object(ht.a)());return r.a.createElement("div",null,r.a.createElement(it.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h1",{style:kt.header},"Trend Health Scoring"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("p",{style:kt.paragraph},"Trend Health is a stock market trend monitoring system that applies user-defined weightings to a combination of customizable technical indicators in order to derive a single trend score."))),r.a.createElement("h2",{style:kt.subHeader},"Market Leadership and Trends in Price"),r.a.createElement("blockquote",{style:kt.quote},"\u201cWatch the Market leaders, the stocks that have led the charge upward in a bull market [...] as the leaders go, so goes the entire market.\u201d - Jesse Livermore"),r.a.createElement("p",{style:kt.paragraph},"In investing and speculating in stocks, one can keep a pulse on the health of the market as a whole by monitoring the trends in the price of the current leading sectors and individual stocks. It is common practice to determine the state of a trend (up, down, sideways) via the use of technical indicators;"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/m/movingaverage.asp",target:"_blank"},"Moving Averages,")," ","and the"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/m/macd.asp",target:"_blank"},"MACD (Moving Average Convergence/Divergence Oscillator)"),", to name two."),r.a.createElement("p",{style:kt.paragraph},"Figure 1 is a price history chart of the IWM Small Cap (Cap = Market Capitalization. The value of a stock or index, calculated by multiplying the number of shares outstanding by the share price) index, ranging from Q\u20191 2014 to Q\u20191 2020. Each bar on the chart represents one week of price movement. The blue line is the 10 period moving average (MA), and the red is the 40 period MA. The indicator in the middle pane represents MACD, and the bottom pane represents ADX (Average Directional Index, discussed later)"),r.a.createElement(pt,{src:bt.a,alt:"Zoom 1",zoom:e.current,background:"#000"}),r.a.createElement("p",{style:kt.paragraph},"In Figure 1, inferences about the trend of the index can be made by observing the state of the MAs and MACD. During periods in which the price of the index is trending up, the \u201cFast\u201d (10 period), and \u201cSlow\u201d (40 period) MAs have a positive slope, and the Fast MA is above (i.e. maintains a higher value than) the Slow MA. During periods in which the market begins to correct or trade sideways, these indicators fail to maintain a positive slope."," "),r.a.createElement("p",{style:kt.paragraph},"The MACD indicator is more sensitive than the MA, and thus more widely used for shorter term trends in price. Whereas MAs are a simple way to track a trend over longer time frames."," "),r.a.createElement("p",{style:kt.paragraph},"Provided these indicators, a single score applicable to all stocks and sectors (via the sectors\u2019 ETFs [exchange traded funds]) can be formulated to reflect the current state of their trends. Leading stocks and sectors historically begin to \u201croll over\u201d one by one ahead of market corrections, and their formulated scores should reflect this assumption through time."))))),r.a.createElement(it.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{style:kt.subHeader},"A Simple Formula"),r.a.createElement("p",{style:kt.paragraph},"The answers to the questions addressing the state of the technical indicators (\u201cDoes the fast MA have a positive slope?\u201d, \u201cDoes the slow MA have a positive slope?\u201d, \u201cIs the fast MA greater than the slow MA?\u201d, and \u201cDoes the MACD have a positive slope?\u201d), are binary values, yes or no (1 or 0). By applying a weight to these binary values (for now, assume 25%) a rating ranging from 0 to 100% can be expressed. A problem emerges from using only these four binary values, in that during bull markets (periods in which the market as a whole is trending up), the majority of stocks will have a score of 100%."," "),r.a.createElement("p",{style:kt.note},"Note: Currently, the lookback period for determining positive/negative slope is 1, this will be enhanced in future builds of Trend Health."," "),r.a.createElement("p",{style:kt.note},"Additionally, the fast and slow SMA periodicities have default values of 10 and 40, but can be modified by the user in their user settings."," "),r.a.createElement("p",{style:kt.paragraph},"In order to differentiate between two stocks trending at/towards all time highs, the ADX indicator can be incorporated into the trend formula. Designed by Welles Wilder, the"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/a/adx.asp",target:"_blank"},"Average Directional Index (ADX)"),", is a technical indicator used to determine the strength of a trend. The maximum value of the index is 100. A higher value represents a stronger trend, and the values are absolute. For example, a stock that has been trending downwards at/towards all time lows can have an ADX equal to that of a stock that is trending at/towards all time highs."," "),r.a.createElement("p",{style:kt.paragraph},"Refer to Figures 2 & 3. GameStop (GME) has a weekly ADX of 22.78 as it trends towards new lows, while the Nasdaq 100 Index (QQQ) has a similar weekly ADX of 21.85 while it is trending at all time highs."),r.a.createElement("div",{className:"row justicy-content-center"},r.a.createElement(pt,{src:Et.a,alt:"Zoom 2",zoom:e.current,background:"#000"}),r.a.createElement(pt,{src:wt.a,alt:"Zoom 3",zoom:e.current,background:"#000"})),r.a.createElement("p",{style:kt.paragraph},"By incorporating ADX into the Trend Health formula (ADX Value * Weighting), a differentiation between the strength of two stocks trending at/towards all time highs can be made. Given that this application aims to measure the health (positivity) of trends, the ADX value is only included in the formula when the user defined Slow-MA has a positive slope."," "),r.a.createElement("p",{style:kt.note},"Note: In the application, all five measures of the trend have default weightings of 20%. The user has the liberty to modify these weightings in their user settings. Should a user believe that the only relevant measure of a trend\u2019s health is a positive sloping Slow MA, they can set the weighting to be 100%, and the remaining indicators will not be factored in."))))),r.a.createElement(it.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{style:kt.subHeader},"Conclusion"),r.a.createElement("p",{style:kt.paragraph},"The goal of Trend Health is not to make recommendations of which sectors or stocks to buy based on their score. The application specifically allows the user to modify the Fast and Slow MA periods and technical indicator weightings, in order to reduce Trend Health\u2019s subjectivity to a minimum."),r.a.createElement("p",{style:kt.note},"Note: In future builds of Trend Health, additional technical indicators and customization methods will be implemented."," "),r.a.createElement("p",{style:kt.paragraph},"Rather, the goal of Trend Health is to be a place where Trend Followers can glance at a single page application and get a clean summary of the status of the market and their watchlist of stocks and sectors. It has been shown that the bulk of returns in the stock market are made over longer term holding periods. A Trend Follower with the knowledge that their portfolio holdings maintain positive scores is less likely to sell early in a bull market, and conversely just as likely to know when not to be holding at all."," "),r.a.createElement("blockquote",{style:kt.quote},"\u201cIt is one of the great paradoxes of the stock market that what seems too high usually goes higher and what seems too low usually goes lower\u201d - William J. Oneil. Founder, Investor\u2019s Business Daily"),r.a.createElement("br",null))))))},At=a(383),Ot=a.n(At),Dt=function(){return r.a.createElement(qe.a,{src:Ot.a,component:"img",title:"404"})},xt=a(384),Ct=a.n(xt);function Nt(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();o(e)}catch(t){}}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement(it.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Welcome Back ".concat(a.email),"!"),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("h5",null,"Use the navbar to the left to visit the TrendHealth Sector Page, or your Personal Watchlist"))))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(it.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Welcome to Trend Health!"),r.a.createElement("div",{className:"row justify-content-around",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(qe.a,{src:Ct.a,component:"img",title:"money",style:{width:"60%",margin:"auto"}})),r.a.createElement("div",{className:"col-lg-6 ml-auto"},r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h3",null,"Trend Health is where Trend Followers can get a clean summary of the state of the trend of the market as a whole."))),r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h5",null,"Sign up, modify your user settings, and start adding to your watchlist. For more detail on Trend Health Scoring, visit the About page. "))),r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",null,r.a.createElement("a",{href:"/login"}," ",r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Login")))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",null,r.a.createElement("a",{href:"/signup"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Signup"))))))))))))}function Mt(e){var t=e.user,a=e.sectorHealthDataPass;return r.a.createElement(Ze.a,null,r.a.createElement($e.c,null,r.a.createElement($e.a,{exact:!0,path:"/",component:Nt}),r.a.createElement($e.a,{exact:!0,path:"/About",component:jt}),r.a.createElement($e.a,{exact:!0,path:"/User",render:function(e){return r.a.createElement(dt,Object.assign({},e,{user:t}))}}),r.a.createElement($e.a,{exact:!0,path:"/Sector",render:function(e){return r.a.createElement(ut,Object.assign({},e,{sectorHealthDataPass:a}))}}),r.a.createElement($e.a,{exact:!0,path:"/Watchlist",render:function(e){return r.a.createElement(mt,Object.assign({},e,{user:t}))}}),r.a.createElement($e.a,{exact:!0,path:"/Login",component:et}),r.a.createElement($e.a,{exact:!0,path:"/Logout",component:ct}),r.a.createElement($e.a,{exact:!0,path:"/Signup",component:tt}),r.a.createElement($e.a,{component:Dt})))}var Wt=a(745),Tt=a(749),Ht=a(746),It=a(747);function Pt(e){var t=e.id,a=(e.item,Object(n.useState)(!1)),o=Object(i.a)(a,2),l=o[0],c=o[1];return r.a.createElement("span",null,r.a.createElement(Wt.a,{className:"mr-1",color:"secondary",id:"Popover-"+t,type:"button"},r.a.createElement("i",{class:"fas fa-info-circle"})),r.a.createElement(Tt.a,{placement:"left",isOpen:l,target:"Popover-"+t,toggle:function(){return c(!l)},trigger:"legacy"},r.a.createElement(Ht.a,null),r.a.createElement(It.a,null,e.popoverBody)))}function Ft(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,{key:e.id,item:e.id,id:e.id,holdingsNames:e.holdingsNames,holdingsPcts:e.holdingsPcts,purpose:e.purpose,popoverBody:e.popoverBody}))}var Rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xt(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(686);l.a.render(r.a.createElement((function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(),c=Object(i.a)(l,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();o(e),console.log("CURRENT USER..."),console.log(e),function(){var e,t;return J.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=Y.a+"/pullSectors",a.next=3,J.a.awrap(K.get(e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))}().then((function(e){var t=function(e){for(var t,a,n,o,l,i,c,s,u=ae.getCurrentUser(),m=[],d=Number(u?u.userSettings.fastSMA:10),h=Number(u?u.userSettings.fastWeight:20)/100,p=Number(u?u.userSettings.slowSMA:40),g=Number(u?u.userSettings.slowWeight:20)/100,f=Number(u?u.userSettings.fastToSlowWeight:20)/100,b=Number(u?u.userSettings.MACDWeight:20)/100,v=Number(u?u.userSettings.ADXWeight:20)/100,E={symbol:"",score:0},y=0,w=0,S=0,k=0,j=0,A=function(u){E.symbol=e.data[u].indexName,E.sectorName=e.data[u].sectorName,E.priceTZero=e.data[u].priceData[0];var A={companies:e.data[u].topHoldingsNames,pctHeld:e.data[u].topHoldingsPcts};E.topHoldings=r.a.createElement(Ft,{key:j,id:j,purpose:"Top Holdings",popoverBody:r.a.createElement("div",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Stock"),r.a.createElement("th",{scope:"col"},"% Held"))),r.a.createElement("tbody",null,A.companies.map((function(e,t){var a=A.pctHeld[t];return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,(100*a).toFixed(2)))}))))}),E.id=j;for(var O=0;O<d;O++)y+=e.data[u].priceData[O];t=y/d;for(var D=1;D<d+1;D++)w+=e.data[u].priceData[D];o=t>w/d?1*h:0;for(var x=0;x<p;x++)S+=e.data[u].priceData[x];a=S/p;for(var C=1;C<p+1;C++)k+=e.data[u].priceData[C];l=a>(n=k/p)?1*g:0,i=t>a?1*f:0,c=e.data[u].macdData[0]>e.data[u].macdData[1]?1*b:0,s=a>n?e.data[u].adxData[0]*v/100:0,E.score=o+l+i+c+s,m.push(E),j++,t=0,a=0,0,n=0,y=0,w=0,S=0,k=0,o=0,l=0,i=0,c=0,s=0,E={symbol:"",score:0}},O=0;O<e.data.length;O++)A(O);return m}(e);u(t)}))}catch(t){}}),[]),s?r.a.createElement(Ye,null,r.a.createElement(_e,null,r.a.createElement(Mt,{user:a,sectorHealthDataPass:s}))):null}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Rt?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xt(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Xt(e)}))}}()}},[[411,1,2]]]);
//# sourceMappingURL=main.9be21774.chunk.js.map