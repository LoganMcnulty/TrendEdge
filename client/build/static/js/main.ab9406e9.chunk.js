(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{1016:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=a(14),i=a(66),s=a(499);a(500),a(536),a(1056),a(498),Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,margin:"auto",textAlign:"center",height:250}}}));var u=a(60),m=a(2),d=a(25),p=a(1077),h=a(1062),g=a(367),f=a(1060),E=a(365),b=a(232),v=a(1061),y=a(129),w=a(1065),S=a(366),k=a(1029),j=a(1066),x=a(368),A=a(1063),O=a(509),N=a.n(O),D=a(504),C=a.n(D),M=a(507),T=a.n(M),W=a(508),I=a.n(W),P=a(336),H=a.n(P),F=a(506),B=a.n(F),L=a(505),X=a.n(L),R=a(503),U=a.n(R),q=a(335),z=a.n(q),G=a(27),_=a.n(G),V=a(110),J=a.n(V);var Q={init:function(){},log:function(e){console.error(e)}};J.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=500&&e.response.status<500||Q.log(e),Promise.reject(e)}));var K={get:J.a.get,post:J.a.post,put:J.a.put,delete:J.a.delete,setJwt:function(e){}},Z=a(46),Y=a(501),$=a.n(Y),ee=Z.a+"/auth";function te(){return localStorage.getItem("token")}K.setJwt(te());var ae={login:function(e,t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(K.post(ee,{email:e,password:t}));case 2:if(!(a=n.sent).data.error){n.next=7;break}return n.abrupt("return",a.data.error);case 7:return localStorage.setItem("token",a.data),n.abrupt("return",null);case 9:case"end":return n.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return $()(e)}catch(t){return null}},getJwt:te};function ne(e){var t,a,o=e.children,l=re(),i=Object(d.a)(),s=r.a.useState(!1),O=Object(c.a)(s,2),D=O[0],M=O[1],W=r.a.useState(null),P=Object(c.a)(W,2),F=P[0],L=P[1],R=r.a.useState(null),q=Object(c.a)(R,2),G=q[0],_=q[1],V=Object(n.useState)(),J=Object(c.a)(V,2),Q=J[0],K=J[1];Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();K(e)}catch(t){}}),[]);var Z=Boolean(F),Y=Boolean(G),$=function(){_(null)},ee=function(){L(null),$()};function te(e){return r.a.createElement(k.a,Object.assign({button:!0,component:"a"},e))}r.a.createElement(b.a,{anchorEl:F,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Z,onClose:ee},r.a.createElement(E.a,{onClick:ee},"Profile"),r.a.createElement(E.a,{onClick:ee},"My account")),r.a.createElement(b.a,{anchorEl:G,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Y,onClose:$},r.a.createElement(E.a,null,r.a.createElement(S.a,{color:"inherit"},"About")),r.a.createElement(E.a,null,r.a.createElement(S.a,{color:"inherit"},r.a.createElement(z.a,null))),r.a.createElement(E.a,{onClick:function(e){L(e.currentTarget)}},r.a.createElement(S.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(U.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:l.root},r.a.createElement(v.a,null),r.a.createElement(h.a,{position:"fixed",className:Object(m.a)(l.appBar,Object(u.a)({},l.appBarShift,D))},r.a.createElement(g.a,null,r.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){M(!0)},edge:"start",className:Object(m.a)(l.menuButton,Object(u.a)({},l.hide,D))},r.a.createElement(C.a,null)),r.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(A.a,{item:!0,className:l.logo},r.a.createElement(Je,null)),r.a.createElement(A.a,{item:!0},r.a.createElement(y.a,{variant:"h5",noWrap:!0},"Trend Edge"))),r.a.createElement("div",{className:l.grow}),r.a.createElement("div",{className:l.sectionDesktop},Q?r.a.createElement("div",null,r.a.createElement("a",{href:"/logout"},r.a.createElement("h3",{style:{color:"white"}},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginRight:"10%",position:"relative",right:"5%"}},r.a.createElement("a",{href:"/login"},r.a.createElement("h3",{style:{color:"white"}},"Login"))),r.a.createElement("div",{style:{marginRight:"10%",position:"relative",right:"5%"}},r.a.createElement("a",{href:"/signup"},r.a.createElement("h3",{style:{color:"white"}},"Signup"))))),r.a.createElement("div",{className:l.sectionMobile},r.a.createElement(S.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){_(e.currentTarget)},color:"inherit"},r.a.createElement(X.a,null))))),r.a.createElement(p.a,{variant:"permanent",className:Object(m.a)(l.drawer,(t={},Object(u.a)(t,l.drawerOpen,D),Object(u.a)(t,l.drawerClose,!D),t)),classes:{paper:Object(m.a)((a={},Object(u.a)(a,l.drawerOpen,D),Object(u.a)(a,l.drawerClose,!D),a))}},r.a.createElement("div",{className:l.toolbar},r.a.createElement(S.a,{onClick:function(){M(!1)}},"rtl"===i.direction?r.a.createElement(B.a,null):r.a.createElement(T.a,null))),r.a.createElement(w.a,null),r.a.createElement(f.a,null,r.a.createElement(te,{button:!0,href:"Sector",key:"Sector"},r.a.createElement(j.a,null,r.a.createElement(H.a,null)),r.a.createElement(x.a,{primary:"Sector Dashboard"})),r.a.createElement(te,{button:!0,href:"ActiveOptions",key:"Options"},r.a.createElement(j.a,null,r.a.createElement(H.a,null)),r.a.createElement(x.a,{primary:"Search Active Options "}))),r.a.createElement(w.a,null),r.a.createElement("div",null,r.a.createElement(f.a,null,Q?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{button:!0,href:"Watchlist",key:"Watchlist"},r.a.createElement(j.a,null,r.a.createElement(I.a,null)),r.a.createElement(x.a,{primary:"User Watchlist"})),r.a.createElement(te,{button:!0,href:"User",key:"User"},r.a.createElement(j.a,null,r.a.createElement(z.a,null)),r.a.createElement(x.a,{primary:"User Settings"})),r.a.createElement(w.a,null)):r.a.createElement(r.a.Fragment,null),r.a.createElement(te,{button:!0,href:"About",key:"About"},r.a.createElement(j.a,null,r.a.createElement(N.a,null)),r.a.createElement(x.a,{primary:"About Trend Health"}))))),o)}var re=Object(s.a)((function(e){return{root:{display:"flex"},appBar:{backgroundColor:"#4682B4",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),logo:{width:40,marginRight:5},sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),toolbar:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},grow:{flexGrow:1}}})),oe=a(64);function le(){for(var e=Z.a+"/createSectors",t=[],a=0;a<oe.length;a++){var n={indexName:oe[a].Stock,sectorName:oe[a].Company};t.push(n)}return K.post(e,{mainSectors:t})}var ce=a(110);function ie(e){var t;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.awrap(ce({method:"GET",url:"https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-summary",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"apidojo-yahoo-finance-v1.p.rapidapi.com","x-rapidapi-key":"31d1e22625msh0d27ce9220d6290p13cfdfjsn3e5237afdbdf"},params:{region:"US",symbol:"".concat(e)}}).then((function(e){return e})).catch((function(e){console.log(e)})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))}var se=a(92),ue=a.n(se);a(584).CronJob;function me(){var e="07S5MN2IBXDCQAGB",t=0,a={name:oe[t].Company,symbol:oe[t].Stock,topHoldingsNames:[],topHoldingsPcts:[],priceData:[],adxData:[],macdData:[]},n=function(){console.log("Yahoo data..."),ie(a.symbol).then((function(e){for(var t=0;t<10;t++)a.topHoldingsNames.push(e.data.topHoldings.holdings[t].symbol),a.topHoldingsPcts.push(e.data.topHoldings.holdings[t].holdingPercent.raw)})).then((function(){r()}))},r=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=MACD&symbol=".concat(oe[t].Stock,"&interval=weekly&series_type=close&apikey=").concat(e),async:!0,dataType:"json",success:function(e){Object.entries(e["Technical Analysis: MACD"]).forEach((function(e,t){var n=Object(c.a)(e,2),r=(n[0],n[1]);a.macdData.push(Number(r.MACD))})),console.log("PASSING WASHED SECTORS TO Update sectors API"),console.log(a);var n=Z.a+"/updateSectors";K.put(n,a),++t<oe.length&&(o(),a={name:oe[t].Company,symbol:oe[t].Stock,priceData:[],adxData:[],macdData:[],topHoldingsNames:[],topHoldingsPcts:[]})}})},o=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=".concat(oe[t].Stock,"&apikey=").concat(e),async:!0,dataType:"json",success:function(r){Object.entries(r["Weekly Time Series"]).forEach((function(e,t){var n=Object(c.a)(e,2),r=(n[0],n[1]);a.priceData.push(Number(r["4. close"]))})),ue.a.ajax({url:"https://www.alphavantage.co/query?function=ADX&symbol=".concat(oe[t].Stock,"&interval=weekly&time_period=10&apikey=").concat(e),async:!0,dataType:"json",success:function(e){Object.entries(e["Technical Analysis: ADX"]).forEach((function(e,t){var n=Object(c.a)(e,2),r=(n[0],n[1]);a.adxData.push(Number(r.ADX))})),n()}})}})};o()}Object(s.a)((function(e){return{root:{width:"100%",maxWidth:120,backgroundColor:e.palette.background.paper}}}));var de=a(91),pe=a(1067),he=a(371),ge=a(538),fe=a(330),Ee=a(1033),be=a(370),ve=function(e){e.isValid;var t=e.field,a=Object(ge.a)(e,["isValid","field"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,null,r.a.createElement(be.a,Object.assign({variant:"outlined"},t,a)),r.a.createElement(Ee.a,{style:ye.errMsg},r.a.createElement(de.a,{name:t.name}))))},ye={errMsg:{color:"red"}},we=function(){return r.a.createElement(pe.a,{style:Se.card},r.a.createElement(de.c,null,r.a.createElement(A.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",spacing:3},r.a.createElement(A.a,{item:!0},r.a.createElement(de.b,{type:"email",name:"email",label:"Email Address",component:ve})),r.a.createElement(A.a,{item:!0},r.a.createElement(de.b,{type:"password",name:"password",label:"Password",autoComplete:"none",component:ve})),r.a.createElement(A.a,{item:!0},r.a.createElement(he.a,{type:"submit"},"Submit")))))},Se={card:{width:300,padding:40,margin:"auto"}},ke=void 0,je=Object(de.d)({mapPropsToValues:function(e){return{email:e.email||"",password:e.password||""}},handleSubmit:function(e,t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.resetForm,t.setErrors,t.setSubmitting,r.prev=1,r.next=4,_.a.awrap(ae.login(e.email,e.password));case 4:(a=r.sent)?alert(a):window.location="/",r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),r.t0.response&&400===r.t0.response.status&&((n=Object(i.a)({},ke.state.errors)).username=r.t0.response.data,ke.setState({errors:n}));case 11:console.log(e);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}})(we);function xe(e){var t=Z.a+"/user";return K.post(t,{email:e.email,password:e.password,name:"TestUser",userSettings:{fastSMA:10,slowSMA:40,lookback:1,fastWeight:20,slowWeight:20,fastToSlowWeight:20,MACDWeight:20,ADXWeight:20}})}function Ae(e){var t,a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Z.a+"/getUserSettings",n.next=3,_.a.awrap(K.post(t,{email:e}));case 3:if(!(a=n.sent).data.error){n.next=8;break}return n.abrupt("return",a.data.error);case 8:return n.abrupt("return",a.data);case 9:case"end":return n.stop()}}))}var Oe=a(260),Ne=Oe.object().shape({email:Oe.string().email("Invalid email").required("Required"),password:Oe.string().min(3,"Too Short!").required("Required")}),De=Object(de.d)({mapPropsToValues:function(e){return{email:e.email||"",password:e.password||""}},validationSchema:Ne,handleSubmit:function(e,t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.resetForm,t.setErrors,t.setSubmitting,r.prev=1,r.next=4,_.a.awrap(xe(e));case 4:a=r.sent,n=a.data,ae.loginWithJwt(n),window.location="/",r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),alert(r.t0.response.data);case 13:console.log(e);case 14:case"end":return r.stop()}}),null,null,[[1,10]])}})(we),Ce=a(345),Me=a(533),Te=a(181),We=a(98),Ie=a(1078),Pe=a(331),He=function(e){var t=e.user,a=e.onFastSMAChange,o=e.onSlowSMAChange,l=e.onLookbackChange,i=e.onError,s=Object(n.useState)(),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(),h=Object(c.a)(p,2),g=h[0],f=h[1],E=Object(n.useState)(),b=Object(c.a)(E,2),v=b[0],y=b[1],w=Object(n.useState)(!1),S=Object(c.a)(w,2),k=S[0],j=S[1],x=Object(n.useState)(),O=Object(c.a)(x,2),N=O[0],D=O[1];Object(n.useEffect)((function(){try{m||g||(d(t.fastSMA),f(t.slowSMA),y(t.lookback),a(t.fastSMA),o(t.slowSMA),l(t.lookback))}catch(e){}m>g?(j(!0),D("Slow SMA must be larger than Fast SMA"),i(!0)):(j(!1),i(!1))}));return r.a.createElement("div",{style:{width:400}},r.a.createElement("hr",null),r.a.createElement(A.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(A.a,{item:!0},r.a.createElement("h5",null,"Fast SMA:")),r.a.createElement(A.a,{item:!0,xs:!0},r.a.createElement(Ie.a,{value:"number"===typeof m?m:0,onChange:function(e,t){d(parseInt(t)),a(parseInt(t))},min:2,max:40,"aria-labelledby":"input-slider"})),r.a.createElement(A.a,{item:!0},r.a.createElement(Pe.a,{value:m,margin:"dense",onChange:function(e){d(parseInt(e.target.value)),a(parseInt(e.target.value))},style:{width:50},onBlur:function(){m<2?(d(2),a(2)):m>40&&(d(40),a(40))},inputProps:{step:2,min:2,max:40,type:"number","aria-labelledby":"input-slider"}}))),r.a.createElement("hr",null),r.a.createElement(A.a,{container:!0,spacing:2,alignItems:"center",className:"justify-content-center"},r.a.createElement(A.a,{item:!0},r.a.createElement("h5",null,"Slow SMA:")),r.a.createElement(A.a,{item:!0,xs:!0},r.a.createElement(Ie.a,{value:"number"===typeof g?g:0,onChange:function(e,t){f(parseInt(t)),o(parseInt(t))},min:10,max:200,"aria-labelledby":"input-slider"})),r.a.createElement(A.a,{item:!0},r.a.createElement(Pe.a,{value:g,margin:"dense",onChange:function(e){f(parseInt(e.target.value)),o(parseInt(e.target.value))},onBlur:function(){g<10?(f(10),o(10)):g>200&&(f(200),o(200))},style:{width:50},className:"text-center",inputProps:{step:2,min:10,max:200,type:"number","aria-labelledby":"input-slider"}})),k&&r.a.createElement(A.a,null,r.a.createElement("div",{class:"alert alert-danger p-1",role:"alert"},r.a.createElement("strong",null,N)))),r.a.createElement("hr",null),r.a.createElement(A.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(A.a,{item:!0},r.a.createElement("h5",null,"Lookback for SMA Slope:")),r.a.createElement(A.a,{item:!0,xs:!0},r.a.createElement(Ie.a,{value:"number"===typeof v?v:0,onChange:function(e,t){y(parseInt(t)),l(parseInt(t))},min:1,max:40,"aria-labelledby":"input-slider"})),r.a.createElement(A.a,{item:!0},r.a.createElement(Pe.a,{value:v,margin:"dense",onChange:function(e){y(parseInt(e.target.value)),l(parseInt(e.target.value))},style:{width:50},onBlur:function(){v<1?(y(1),l(1)):v>40&&(y(40),l(40))},inputProps:{step:2,min:1,max:40,type:"number","aria-labelledby":"input-slider"}}))))},Fe=a(37),Be=function(e){var t=e.user,a=e.onWeightChange,o=e.onError,l=Object(n.useState)(),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(c.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(),f=Object(c.a)(g,2),E=f[0],b=f[1],v=Object(n.useState)(),y=Object(c.a)(v,2),w=y[0],S=y[1],k=Object(n.useState)(),j=Object(c.a)(k,2),x=j[0],A=j[1],O=Object(n.useState)(!1),N=Object(c.a)(O,2),D=N[0],C=N[1],M=Object(n.useState)(),T=Object(c.a)(M,2),W=T[0],I=T[1];Object(n.useEffect)((function(){try{s||p||E||w||x||(u(t.fastWeight),h(t.slowWeight),b(t.fastToSlowWeight),S(t.MACDWeight),A(t.ADXWeight))}catch(a){}var e=parseInt(s)+parseInt(p)+parseInt(E)+parseInt(w)+parseInt(x);100!=e?(C(!0),I("Total Weight must equal 100% (currently "+e+"%)"),o(!0)):(C(!1),o(!1))}));var P=function(e){switch(e.target.id){case"FastSMA":e.target.value?u(parseInt(e.target.value)):u(0);break;case"SlowSMA":e.target.value?h(parseInt(e.target.value)):h(0);break;case"FasterSlowSMA":e.target.value?b(parseInt(e.target.value)):b(0);break;case"MACD":e.target.value?S(parseInt(e.target.value)):S(0);break;case"ADX":e.target.value?A(parseInt(e.target.value)):A(0)}},H=function(){a({fastWeight:s,slowWeight:p,fastToSlowWeight:E,MACDWeight:w,ADXWeight:x})};return r.a.createElement(Fe.a,null,r.a.createElement(Te.a,{className:"mt-3 ml-1"},D&&r.a.createElement("div",{class:"alert alert-danger p-1",role:"alert"},r.a.createElement("strong",null,W))),r.a.createElement(Te.a,null,r.a.createElement(We.a,null,r.a.createElement("h3",null,"Moving Averages"),r.a.createElement(Fe.a.Group,{controlId:"FastSMA"},r.a.createElement(Fe.a.Label,null,"Fast"),r.a.createElement(Fe.a.Control,{type:"input",value:s,onChange:P,onBlur:H})),r.a.createElement(Fe.a.Group,{controlId:"SlowSMA"},r.a.createElement(Fe.a.Label,null,"Slow"),r.a.createElement(Fe.a.Control,{type:"input",value:p,onChange:P,onBlur:H})),r.a.createElement(Fe.a.Group,{controlId:"FasterSlowSMA"},r.a.createElement(Fe.a.Label,null,"Faster > Slow "),r.a.createElement(Fe.a.Control,{type:"input",value:E,onChange:P,onBlur:H}))),r.a.createElement(We.a,null,r.a.createElement("h3",null,"Other"),r.a.createElement(Fe.a.Group,{controlId:"MACD"},r.a.createElement(Fe.a.Label,null,"Weekly MACD Pos. Crossover"),r.a.createElement(Fe.a.Control,{type:"input",value:w,onChange:P,onBlur:H})),r.a.createElement(Fe.a.Group,{controlId:"ADX"},r.a.createElement(Fe.a.Label,null,"ADX"),r.a.createElement(Fe.a.Control,{type:"input",value:x,onChange:P,onBlur:H})))))};function Le(e){var t=e.user,a=Object(n.useState)("AveragePeriod"),o=Object(c.a)(a,2),l=o[0],s=o[1],u=Object(n.useState)(),m=Object(c.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(),g=Object(c.a)(h,2),f=g[0],E=g[1],b=Object(n.useState)(),v=Object(c.a)(b,2),y=v[0],w=v[1],S=Object(n.useState)(),k=Object(c.a)(S,2),j=k[0],x=k[1],A=Object(n.useState)(),O=Object(c.a)(A,2),N=O[0],D=O[1],C=Object(n.useState)(),M=Object(c.a)(C,2),T=M[0],W=M[1],I=Object(n.useState)(),P=Object(c.a)(I,2),H=P[0],F=P[1];Object(n.useEffect)((function(){try{Ae(t.email).then((function(e){j||(p(e.fastSMA),E(e.slowSMA),w(e.lookback),x({fastWeight:e.fastWeight,slowWeight:e.slowWeight,fastToSlowWeight:e.fastToSlowWeight,MACDWeight:e.MACDWeight,ADXWeight:e.ADXWeight}),D({fastSMA:e.fastSMA,slowSMA:e.slowSMA,lookback:e.lookback,fastWeight:e.fastWeight,slowWeight:e.slowWeight,fastToSlowWeight:e.fastToSlowWeight,MACDWeight:e.MACDWeight,ADXWeight:e.ADXWeight}))}))}catch(e){}}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{className:"align-items-center"},r.a.createElement(We.a,{className:"col-sm-auto"},r.a.createElement("h1",null,"User Settings")),r.a.createElement(We.a,null,!T&&!H&&r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=Object(i.a)({},j,{fastSMA:d,slowSMA:f,lookback:y});!function(e,t){console.log(t);var a=Z.a+"/userSettings";K.post(a,{email:e,userSettings:t})}(t.email,e)}},"Save User Options"),(T||H)&&r.a.createElement("button",{className:"btn btn-danger",disabled:!0},"Save User Options"))),r.a.createElement(Me.a,{id:"controlled-tab-example",activeKey:l,onSelect:function(e){return s(e)}},r.a.createElement(Ce.a,{eventKey:"AveragePeriod",title:"Average Period (Weekly)"},r.a.createElement(He,{user:N,onFastSMAChange:function(e){p(e)},onSlowSMAChange:function(e){E(e)},onLookbackChange:function(e){w(e)},onError:function(e){W(e)}})),r.a.createElement(Ce.a,{eventKey:"Weighting",title:"Weighting (%)"},r.a.createElement(Be,{user:N,onWeightChange:function(e){x(e)},onError:function(e){F(e)}}))))}var Xe=a(344),Re=a(246),Ue=a.n(Re);function qe(e,t){var a="07S5MN2IBXDCQAGB",n={livePrice:0,stockName:t.toUpperCase(),priceData:[],adxData:[],macdData:[],averageVolumeTenDays:0,fundamentalData:{marketCap:0,sector:"",floatingShares:0,sharesShort:0,insidersPctHeld:0,nextEarningsDate:"",grossMargins:0,profitMargins:0}},r=function(){ie(t).then((function(e){console.log(e),n.averageVolumeTenDays=e.data.summaryDetail.averageVolume10days.raw,n.livePrice=e.data.summaryDetail.ask.raw,n.fundamentalData.marketCap=e.data.summaryDetail.marketCap.fmt,n.fundamentalData.sector=e.data.summaryProfile.sector,n.fundamentalData.floatingShares=e.data.defaultKeyStatistics.floatShares.raw,n.fundamentalData.sharesShort=e.data.defaultKeyStatistics.sharesShort.raw,n.fundamentalData.insidersPctHeld=e.data.defaultKeyStatistics.heldPercentInsiders.raw,n.fundamentalData.nextEarningsDate=e.data.calendarEvents.earnings.earningsDate[0].raw,n.fundamentalData.grossMargins=e.data.financialData.grossMargins.raw,n.fundamentalData.profitMargins=e.data.financialData.profitMargins.raw})).then((function(){o()}))},o=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=MACD&symbol=".concat(t,"&interval=weekly&series_type=close&apikey=").concat(a),async:!0,dataType:"json",success:function(t){console.log("MACD:"),Object.entries(t["Technical Analysis: MACD"]).forEach((function(e,t){var a=Object(c.a)(e,2),r=(a[0],a[1]);n.macdData.push(Number(r.MACD))})),console.log(n);var a=Z.a+"/updateWatchList";K.post(a,{thisStockData:n,email:e}).then((function(){window.location="/Watchlist"}))}})},l=function(){ue.a.ajax({url:"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=".concat(t,"&apikey=").concat(a),async:!0,dataType:"json",success:function(e){console.log("PRICE: "),Object.entries(e["Weekly Time Series"]).forEach((function(e,t){var a=Object(c.a)(e,2),r=(a[0],a[1]);n.priceData.push(Number(r["4. close"]))})),ue.a.ajax({url:"https://www.alphavantage.co/query?function=ADX&symbol=".concat(t,"&interval=weekly&time_period=10&apikey=").concat(a),async:!0,dataType:"json",success:function(e){console.log("ADX:"),Object.entries(e["Technical Analysis: ADX"]).forEach((function(e,t){var a=Object(c.a)(e,2),r=(a[0],a[1]);n.adxData.push(Number(r.ADX))})),r()}})}})},i=Z.a+"/findStockData/"+t.toUpperCase()+"/"+e;K.get(i).then((function(e){e.data?window.location="/Watchlist":l()}))}function ze(e){var t=e.user,a=Object(n.useState)({columns:[{title:"Ticker",field:"stockName"},{title:"Price",field:"livePrice",type:"currency"},{title:"% From Fast SMA",field:"pxPctFast"},{title:"% From Slow SMA",field:"pxPctSlow"},{title:"Trend Health (%)",field:"health",type:"numeric"}],data:[]}),o=Object(c.a)(a,2),l=o[0],s=o[1],u=Object(n.useState)(),m=Object(c.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(),g=Object(c.a)(h,2),f=g[0],E=g[1];Object(n.useEffect)((function(){try{E(!1),function(e){var t,a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=Z.a+"/getWatchList",r.next=4,_.a.awrap(K.post(t,{email:e}));case 4:return a=r.sent,n={userWatchList:a.data.userWatchList,userSettings:a.data.userSettings},r.abrupt("return",n);case 9:return r.prev=9,r.t0=r.catch(0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),null,null,[[0,9]])}(t.email).then((function(e){console.log(e),e.userWatchList.length>0&&e.userWatchList.forEach((function(a,n){console.log(a),function(e,t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(Ae(e).then((function(e){for(var a,n,r,o,l=Number(e.fastSMA),c=Number(e.fastWeight)/100,i=Number(e.slowSMA),s=Number(e.slowWeight)/100,u=Number(e.fastToSlowWeight)/100,m=Number(e.MACDWeight)/100,d=Number(e.ADXWeight)/100,p=0,h=0,g=0,f=0,E=0;E<l;E++)p+=t.priceData[E];a=p/l;for(var b=1;b<l+1;b++)h+=t.priceData[b];o=a>h/l?1*c:0;for(var v=0;v<i;v++)g+=t.priceData[v];n=g/i;for(var y=1;y<i+1;y++)f+=t.priceData[y];return o+(n>(r=f/i)?1*s:0)+(a>n?1*u:0)+(t.macdData[0]>t.macdData[1]?1*m:0)+(n>r?t.adxData[0]*d/100:0)})));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))}(t.email,a).then((function(t){a.health=(100*t).toFixed(1),a.stockName=a.stockName.toUpperCase();for(var n=0,r=0;r<e.userSettings.fastSMA;r++)n+=a.priceData[r];a.pxPctFast=((a.priceData[0]-n/e.userSettings.fastSMA)/(n/e.userSettings.fastSMA)*100).toFixed(2)+"%";for(var o=0,c=0;c<e.userSettings.slowSMA;c++)o+=a.priceData[c];a.pxPctSlow=((a.priceData[0]-o/e.userSettings.slowSMA)/(o/e.userSettings.slowSMA)*100).toFixed(2)+"%",s(Object(i.a)({},l,{data:e.userWatchList}))}))}))}))}catch(e){console.log("ERROR: "+e)}}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{class:"form-inline"},r.a.createElement("div",{class:"form-group mb-2"},r.a.createElement("label",{for:"stockTicker"},"Add Ticker to Watchlist: "),r.a.createElement("input",{type:"text",class:"form-control",id:"stockTicker",placeholder:"ex: AAPL",onChange:function(e){return p(e.target.value)}})),r.a.createElement("button",{type:"submit",class:"btn btn-primary mb-2 ml-2 mr-2",onClick:function(e){e.preventDefault();try{E(!0),qe(t.email,d)}catch(a){alert("stock ticker not found - "+a)}}},"Add Stock"),f&&r.a.createElement("div",{class:"spinner-border text-primary mb-1"})),r.a.createElement(Ue.a,{title:"Watch List",columns:l.columns,data:l.data,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),s((function(t){var a=Object(Xe.a)(t.data);return a.push(e),Object(i.a)({},t,{data:a})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&s((function(a){var n=Object(Xe.a)(a.data);return n[n.indexOf(t)]=e,Object(i.a)({},a,{data:n})}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),function(e,t,a){var n,r,o;_.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:try{n=a.filter((function(e){return e.stockName!=t})),r=[],n.forEach((function(e){r.push(e._id)})),o=Z.a+"/deleteWatchList",K.put(o,{email:e,watchList:r}).then((function(){window.location="/Watchlist"}))}catch(c){}case 1:case"end":return l.stop()}}))}(t.email,e.stockName,l.data)}),600)}))}}}))}var Ge=a(1071),_e=a(253),Ve=a.n(_e),Je=function(){return r.a.createElement(Ge.a,{src:Ve.a,component:"img"})};function Qe(e){var t=e.sectorHealthData;console.log(t);var a=Object(n.useState)({columns:[{title:"Ticker",field:"symbol"},{title:"Sector",field:"sectorName"},{title:"Price",field:"priceTZero"},{title:"Top Holdings",field:"topHoldings"},{title:"Trend Health (%)",field:"score",type:"numeric"}]}),o=Object(c.a)(a,2),l=o[0];o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",null,r.a.createElement("button",{class:"btn btn-primary",type:"submit",onClick:le},"Create Sectors"),r.a.createElement("button",{class:"btn btn-primary",type:"submit",onClick:me},"update Sector data")))),r.a.createElement(Ue.a,{title:"Sector Health Dashboard",columns:l.columns,data:t}))}function Ke(e){var t=e.optionsData;return console.log("DATA REACHES TABLE"),console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Call/Put"),r.a.createElement("th",{scope:"col"},"Exp. Date"),r.a.createElement("th",{scope:"col"},"Strike"),r.a.createElement("th",{scope:"col"},"Ask"),r.a.createElement("th",{scope:"col"},"Today's Chg."),r.a.createElement("th",{scope:"col"},"Volume"),r.a.createElement("th",{scope:"col"},"Open Int."),r.a.createElement("th",{scope:"col"},"Vol/OI %"))),r.a.createElement("tbody",null,t.map((function(e,a){return r.a.createElement("tr",null,r.a.createElement("td",null,t[a][1]),r.a.createElement("td",null,t[a][0]),r.a.createElement("td",null,t[a][2]),r.a.createElement("td",null,t[a][3]),r.a.createElement("td",null,t[a][4]),r.a.createElement("td",null,t[a][5]),r.a.createElement("td",null,t[a][6]),r.a.createElement("td",null,t[a][7]))})))))}var Ze=function(e){var t=e.children,a=Ye();return r.a.createElement(ne,null,r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),t))},Ye=Object(s.a)((function(e){return{root:{display:"flex"},toolbar:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),$e=a(1070),et=a(534),tt=a(1069);function at(e){var t=e.children,a=Object($e.a)("(prefers-color-scheme: dark)"),n=r.a.useMemo((function(){return Object(et.a)({palette:{type:a?"dark":"light"}})}),[a]);return r.a.createElement(tt.a,{theme:n},t)}var nt=a(529),rt=a(112),ot=a(518),lt=a.n(ot),ct=a(180),it=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(ct.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"User Login"),r.a.createElement("div",{className:"row justify-content-around",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(Ge.a,{src:lt.a,component:"img",title:"logging"})),r.a.createElement("div",{className:"col-lg-6 ml-auto"},r.a.createElement(je,null)))))))},st=a(519),ut=a.n(st),mt=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(ct.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"New User Signup"),r.a.createElement("div",{className:"row justify-content-around",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(Ge.a,{src:ut.a,component:"img",title:"logging"})),r.a.createElement("div",{className:"col-lg-6 ml-auto"},r.a.createElement(De,null)))))))},dt=a(520),pt=a(521),ht=a(535),gt=a(522),ft=a(537),Et=function(e){function t(){return Object(dt.a)(this,t),Object(ht.a)(this,Object(gt.a)(t).apply(this,arguments))}return Object(ft.a)(t,e),Object(pt.a)(t,[{key:"componentDidMount",value:function(){ae.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(ct.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Come Back Soon!"),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(Ge.a,{src:Ve.a,component:"img",style:{width:"20%",margin:"auto"}})),r.a.createElement("div",{className:"col-lg-6 ml-auto"}))))))}}]),t}(n.Component),bt=function(e){var t=e.sectorHealthDataPass,a=e.user,n=t;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron",style:{background:"#3f51b5",backgroundSize:"cover",backgroundColor:"#4682B4"}},r.a.createElement("div",{className:"container for-about"},r.a.createElement("h1",{style:{textAlign:"center",color:"white"}},"Sector Dashboard"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(Qe,{user:a,sectorHealthData:n}))))):null},vt=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron",style:{background:"#3f51b5",backgroundSize:"cover",backgroundColor:"#4682B4"}},r.a.createElement("div",{className:"container for-about"},r.a.createElement("h1",{style:{textAlign:"center",color:"white"}},"Your Watchlist"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(ze,{user:t})))))},yt=function(e){var t=e.user;return r.a.createElement("div",{className:"container"},r.a.createElement(ct.a,{elevation:6,style:{marginBottom:"2%",padding:"2%"}},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(Le,{user:t})))))},wt=a(526);var St=function(e){var t=e.zoom,a=e.src,n=e.alt,o=e.background,l=r.a.useRef(t.clone({background:o}));return r.a.createElement("img",{src:a,alt:n,ref:function(e){l.current.attach(e)},style:kt})},kt={textAlign:"center",cursor:"pointer",width:600},jt=a(523),xt=a.n(jt),At=a(524),Ot=a.n(At),Nt=a(525),Dt=a.n(Nt),Ct=(Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",width:"1200px",height:"800px"},paper:{position:"absolute",width:1300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),{header:{textAlign:"center",fontSize:"400%",margin:"5% 0"},paragraph:{marginTop:"1%",fontFamily:"'Roboto', serif",fontSize:"20px",paddingLeft:"1em"},subHeader:{marginTop:"2%",fontWeight:"bold"},quote:{padding:".5em 0 0 3em",fontWeight:"100",fontSize:"20px",fontStyle:"italic"},note:{padding:"0 0 0 3em",fontWeight:"bold",fontStyle:"italic"}}),Mt=function(){var e=r.a.useRef(Object(wt.a)());return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"co-lg-10"},r.a.createElement(ct.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h1",{style:Ct.header},"Trend Health Scoring"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("p",{style:Ct.paragraph},"Trend Health is a stock market trend monitoring system that applies user-defined weightings to a combination of customizable technical indicators in order to derive a single trend score."))),r.a.createElement("h2",{style:Ct.subHeader},"Market Leadership and Trends in Price"),r.a.createElement("blockquote",{style:Ct.quote},"\u201cWatch the Market leaders, the stocks that have led the charge upward in a bull market [...] as the leaders go, so goes the entire market.\u201d - Jesse Livermore"),r.a.createElement("p",{style:Ct.paragraph},"In investing and speculating in stocks, one can keep a pulse on the health of the market as a whole by monitoring the trends in the price of the current leading sectors and individual stocks. It is common practice to determine the state of a trend (up, down, sideways) via the use of technical indicators;"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/m/movingaverage.asp",target:"_blank"},"Moving Averages,")," ","and the"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/m/macd.asp",target:"_blank"},"MACD (Moving Average Convergence/Divergence Oscillator)"),", to name two."),r.a.createElement("p",{style:Ct.paragraph},"Figure 1 is a price history chart of the IWM Small Cap (Cap = Market Capitalization. The value of a stock or index, calculated by multiplying the number of shares outstanding by the share price) index, ranging from Q\u20191 2014 to Q\u20191 2020. Each bar on the chart represents one week of price movement. The blue line is the 10 period moving average (MA), and the red is the 40 period MA. The indicator in the middle pane represents MACD, and the bottom pane represents ADX (Average Directional Index, discussed later)"),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(St,{src:xt.a,alt:"Zoom 1",zoom:e.current,background:"#000"})),r.a.createElement("p",{style:Ct.paragraph},"In Figure 1, inferences about the trend of the index can be made by observing the state of the MAs and MACD. During periods in which the price of the index is trending up, the \u201cFast\u201d (10 period), and \u201cSlow\u201d (40 period) MAs have a positive slope, and the Fast MA is above (i.e. maintains a higher value than) the Slow MA. During periods in which the market begins to correct or trade sideways, these indicators fail to maintain a positive slope."," "),r.a.createElement("p",{style:Ct.paragraph},"The MACD indicator is more sensitive than the MA, and thus more widely used for shorter term trends in price. Whereas MAs are a simple way to track a trend over longer time frames."," "),r.a.createElement("p",{style:Ct.paragraph},"Provided these indicators, a single score applicable to all stocks and sectors (via the sectors\u2019 ETFs [exchange traded funds]) can be formulated to reflect the current state of their trends. Leading stocks and sectors historically begin to \u201croll over\u201d one by one ahead of market corrections, and their formulated scores should reflect this assumption through time."))))),r.a.createElement(ct.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{style:Ct.subHeader},"A Simple Formula"),r.a.createElement("p",{style:Ct.paragraph},"The answers to the questions addressing the state of the technical indicators (\u201cDoes the fast MA have a positive slope?\u201d, \u201cDoes the slow MA have a positive slope?\u201d, \u201cIs the fast MA greater than the slow MA?\u201d, and \u201cDoes the MACD have a positive slope?\u201d), are binary values, yes or no (1 or 0). By applying a weight to these binary values (for now, assume 25%) a rating ranging from 0 to 100% can be expressed. A problem emerges from using only these four binary values, in that during bull markets (periods in which the market as a whole is trending up), the majority of stocks will have a score of 100%."," "),r.a.createElement("p",{style:Ct.note},"Note: Currently, the lookback period for determining positive/negative slope is 1, this will be enhanced in future builds of Trend Health."," "),r.a.createElement("p",{style:Ct.note},"Additionally, the fast and slow SMA periodicities have default values of 10 and 40, but can be modified by the user in their user settings."," "),r.a.createElement("p",{style:Ct.paragraph},"In order to differentiate between two stocks trending at/towards all time highs, the ADX indicator can be incorporated into the trend formula. Designed by Welles Wilder, the"," ",r.a.createElement("a",{href:"https://www.investopedia.com/terms/a/adx.asp",target:"_blank"},"Average Directional Index (ADX)"),", is a technical indicator used to determine the strength of a trend. The maximum value of the index is 100. A higher value represents a stronger trend, and the values are absolute. For example, a stock that has been trending downwards at/towards all time lows can have an ADX equal to that of a stock that is trending at/towards all time highs."," "),r.a.createElement("p",{style:Ct.paragraph},"Refer to Figures 2 & 3. GameStop (GME) has a weekly ADX of 22.78 as it trends towards new lows, while the Nasdaq 100 Index (QQQ) has a similar weekly ADX of 21.85 while it is trending at all time highs."),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(St,{src:Ot.a,alt:"Zoom 2",zoom:e.current,background:"#000"}),r.a.createElement(St,{src:Dt.a,alt:"Zoom 3",zoom:e.current,background:"#000"})),r.a.createElement("p",{style:Ct.paragraph},"By incorporating ADX into the Trend Health formula (ADX Value * Weighting), a differentiation between the strength of two stocks trending at/towards all time highs can be made. Given that this application aims to measure the health (positivity) of trends, the ADX value is only included in the formula when the user defined Slow-MA has a positive slope."," "),r.a.createElement("p",{style:Ct.note},"Note: In the application, all five measures of the trend have default weightings of 20%. The user has the liberty to modify these weightings in their user settings. Should a user believe that the only relevant measure of a trend\u2019s health is a positive sloping Slow MA, they can set the weighting to be 100%, and the remaining indicators will not be factored in."))))),r.a.createElement(ct.a,{elevation:6,style:{marginBottom:"2%"}},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{style:Ct.subHeader},"Conclusion"),r.a.createElement("p",{style:Ct.paragraph},"The goal of Trend Health is not to make recommendations of which sectors or stocks to buy based on their score. The application specifically allows the user to modify the Fast and Slow MA periods and technical indicator weightings, in order to reduce Trend Health\u2019s subjectivity to a minimum."),r.a.createElement("p",{style:Ct.note},"Note: In future builds of Trend Health, additional technical indicators and customization methods will be implemented."," "),r.a.createElement("p",{style:Ct.paragraph},"Rather, the goal of Trend Health is to be a place where Trend Followers can glance at a single page application and get a clean summary of the status of the market and their watchlist of stocks and sectors. It has been shown that the bulk of returns in the stock market are made over longer term holding periods. A Trend Follower with the knowledge that their portfolio holdings maintain positive scores is less likely to sell early in a bull market, and conversely just as likely to know when not to be holding at all."," "),r.a.createElement("blockquote",{style:Ct.quote},"\u201cIt is one of the great paradoxes of the stock market that what seems too high usually goes higher and what seems too low usually goes lower\u201d - William J. Oneil. Founder, Investor\u2019s Business Daily"),r.a.createElement("br",null)))))))},Tt=a(527),Wt=a.n(Tt),It=function(){return r.a.createElement(Ge.a,{src:Wt.a,component:"img",title:"404"})},Pt=a(528),Ht=a.n(Pt);function Ft(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();o(e)}catch(t){}}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement(ct.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Welcome Back ".concat(a.email),"!"),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("h5",null,"Use the navbar to the left to visit the TrendHealth Sector Page, or your Personal Watchlist"))))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(ct.a,{elevation:6,style:{marginTop:"2%",textAlign:"center",padding:"2%"}},r.a.createElement("h1",null,"Welcome to Trend Health!"),r.a.createElement("div",{className:"row justify-content-around",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(Ge.a,{src:Ht.a,component:"img",title:"money",style:{width:"60%",margin:"auto"}})),r.a.createElement("div",{className:"col-lg-6 ml-auto"},r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h3",null,"Trend Health is where Trend Followers can get a clean summary of the state of the trend of the market as a whole."))),r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h5",null,"Sign up, modify your user settings, and start adding to your watchlist. For more detail on Trend Health Scoring, visit the About page. "))),r.a.createElement("div",{className:"row justify-conent-around",style:{marginTop:"10%"}},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",null,r.a.createElement("a",{href:"/login"}," ",r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Login")))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",null,r.a.createElement("a",{href:"/signup"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Signup"))))))))))))}var Bt=a(110),Lt=a(803);var Xt=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(c.a)(m,2),p=d[0],h=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron",style:{background:"#3f51b5",backgroundSize:"cover",backgroundColor:"#4682B4",marginBottom:"0"}},r.a.createElement("div",{className:"container for-about"},r.a.createElement("h1",{style:{textAlign:"center",color:"white"}},"Active Options Dashboard"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center h-100",style:{padding:"2%"}},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{onChange:function(e){u(e.target.value),console.log(s)},className:"search_input",type:"text",name:"",placeholder:"Search..."}),r.a.createElement("a",{onClick:function(e){e.preventDefault();try{console.log(s),function(e){var t,a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={dates:[],optionType:[],strikePrice:[],contractPrice:[],todayChange:[],volume:[],openInt:[],volOI:[]},a=[],console.log("SCRAPING NASDAQ ACTIVE OPTIONS..."),r.next=5,_.a.awrap(Bt.get("https://old.nasdaq.com/symbol/".concat(e,"/option-chain/most-active")).then((function(e){var n,r,o=Lt.load(e.data);o("tbody tr").each((function(e,a){t.dates.push(o("td.most-active-col1").find("a").text()),t.optionType.push(o(a).find("td.most-active-col1").next("td").text()),t.strikePrice.push(o(a).find("td.most-active-col1").next("td").next("td").next("td").text()),t.contractPrice.push(o(a).find("td.most-active-col1").next("td").next("td").next("td").next("td").text()),t.todayChange.push(o(a).find("td.most-active-col1").next("td").next("td").next("td").next("td").next("td").text()),t.volume.push(o(a).find("td.most-active-col1").next("td").next("td").next("td").next("td").next("td").next("td").next("td").text()),t.openInt.push(o(a).find("td.most-active-col1").next("td").next("td").next("td").next("td").next("td").next("td").next("td").next("td").text())})),t.dates=(n=t.dates[0],r=12,n.match(new RegExp(".{1,"+r+"}","g"))),t.optionType=t.optionType.filter((function(e){return""!=e})),t.strikePrice=t.strikePrice.filter((function(e){return""!=e})),t.contractPrice=t.contractPrice.filter((function(e){return""!=e})),t.todayChange=t.todayChange.filter((function(e){return""!=e})),t.volume=t.volume.filter((function(e){return""!=e})),t.openInt=t.openInt.filter((function(e){return""!=e}));for(var l=0;l<t.optionType.length;l++){var c=(t.volume[l]/t.openInt[l]*100).toFixed(2);t.volOI.push(c+"%")}for(var i=0;i<t.optionType.length;i++){var s=[];s.push(t.dates[i],t.optionType[i],t.strikePrice[i],t.contractPrice[i],t.todayChange[i],t.volume[i],t.openInt[i],t.volOI[i]),a.push(s)}return a})));case 5:return n=r.sent,r.abrupt("return",n);case 7:case"end":return r.stop()}}))}(s).then((function(e){o(e)})),h(s.toUpperCase()),ue()(".search_input").val("")}catch(t){alert("stock ticker not found - "+t)}},href:"#",className:"search_icon"},r.a.createElement("i",{className:"fas fa-search"}))))),r.a.createElement("div",{className:"container"},r.a.createElement(ct.a,{elevation:6,style:{marginBottom:"2%",paddingTop:"2%"}},r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement("div",{className:"col-lg-10"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},p),r.a.createElement(Ke,{optionsData:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"Enter a ticker to see today's most actively traded options"),r.a.createElement("br",null),r.a.createElement("h6",{style:{textAlign:"center",fontStyle:"italic"}},"This feature is unavailable outside of options market hours"),r.a.createElement("h6",{style:{textAlign:"center",fontStyle:"italic"}},"If no results are returned during market hours, the ticker may be illiquid, or not yet actively trading for the day")))))))};function Rt(e){var t=e.user,a=e.sectorHealthDataPass;return r.a.createElement(nt.a,null,r.a.createElement(rt.c,null,r.a.createElement(rt.a,{exact:!0,path:"/",component:Ft}),r.a.createElement(rt.a,{exact:!0,path:"/About",component:Mt}),r.a.createElement(rt.a,{exact:!0,path:"/ActiveOptions",component:Xt}),r.a.createElement(rt.a,{exact:!0,path:"/User",render:function(e){return r.a.createElement(yt,Object.assign({},e,{user:t}))}}),r.a.createElement(rt.a,{exact:!0,path:"/Sector",render:function(e){return r.a.createElement(bt,Object.assign({},e,{sectorHealthDataPass:a}))}}),r.a.createElement(rt.a,{exact:!0,path:"/Watchlist",render:function(e){return r.a.createElement(vt,Object.assign({},e,{user:t}))}}),r.a.createElement(rt.a,{exact:!0,path:"/Login",component:it}),r.a.createElement(rt.a,{exact:!0,path:"/Logout",component:Et}),r.a.createElement(rt.a,{exact:!0,path:"/Signup",component:mt}),r.a.createElement(rt.a,{component:It})))}var Ut=a(1072),qt=a(1075),zt=a(1073),Gt=a(1074);function _t(e){var t=e.id,a=(e.item,Object(n.useState)(!1)),o=Object(c.a)(a,2),l=o[0],i=o[1];return r.a.createElement("span",null,r.a.createElement(Ut.a,{className:"mr-1",color:"secondary",id:"Popover-"+t,type:"button"},r.a.createElement("i",{class:"fas fa-info-circle"})),r.a.createElement(qt.a,{placement:"left",isOpen:l,target:"Popover-"+t,toggle:function(){return i(!l)},trigger:"legacy"},r.a.createElement(zt.a,null),r.a.createElement(Gt.a,null,e.popoverBody)))}function Vt(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,{key:e.id,item:e.id,id:e.id,holdingsNames:e.holdingsNames,holdingsPcts:e.holdingsPcts,purpose:e.purpose,popoverBody:e.popoverBody}))}var Jt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qt(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(1015);l.a.render(r.a.createElement((function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(),i=Object(c.a)(l,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){try{var e=ae.getCurrentUser();o(e),console.log("CURRENT USER..."),console.log(e),function(){var e,t;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=Z.a+"/pullSectors",a.next=3,_.a.awrap(K.get(e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))}().then((function(e){var t=function(e){for(var t,a,n,o,l,c,i,s,u=ae.getCurrentUser(),m=[],d=Number(u?u.userSettings.fastSMA:10),p=Number(u?u.userSettings.fastWeight:20)/100,h=Number(u?u.userSettings.slowSMA:40),g=Number(u?u.userSettings.slowWeight:20)/100,f=Number(u?u.userSettings.fastToSlowWeight:20)/100,E=Number(u?u.userSettings.MACDWeight:20)/100,b=Number(u?u.userSettings.ADXWeight:20)/100,v={symbol:"",score:0},y=0,w=0,S=0,k=0,j=0,x=function(u){v.symbol=e.data[u].indexName,v.sectorName=e.data[u].sectorName,v.priceTZero=e.data[u].priceData[0];var x={companies:e.data[u].topHoldingsNames,pctHeld:e.data[u].topHoldingsPcts};v.topHoldings=r.a.createElement(Vt,{key:j,id:j,purpose:"Top Holdings",popoverBody:r.a.createElement("div",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Stock"),r.a.createElement("th",{scope:"col"},"% Held"))),r.a.createElement("tbody",null,x.companies.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,(100*x.pctHeld[t]).toFixed(2)))}))))}),v.id=j;for(var A=0;A<d;A++)y+=e.data[u].priceData[A];t=y/d;for(var O=1;O<d+1;O++)w+=e.data[u].priceData[O];o=t>w/d?1*p:0;for(var N=0;N<h;N++)S+=e.data[u].priceData[N];a=S/h;for(var D=1;D<h+1;D++)k+=e.data[u].priceData[D];l=a>(n=k/h)?1*g:0,c=t>a?1*f:0,i=e.data[u].macdData[0]>e.data[u].macdData[1]?1*E:0,s=a>n?e.data[u].adxData[0]*b/100:0,v.score=(100*(o+l+c+i+s)).toFixed(1),m.push(v),j++,t=0,a=0,0,n=0,y=0,w=0,S=0,k=0,o=0,l=0,c=0,i=0,s=0,v={symbol:"",score:0}},A=0;A<e.data.length;A++)x(A);return m}(e);u(t)}))}catch(t){}}),[]),s?r.a.createElement(at,null,r.a.createElement(Ze,null,r.a.createElement(Rt,{user:a,sectorHealthDataPass:s}))):null}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Jt?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qt(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Qt(e)}))}}()},253:function(e,t,a){e.exports=a.p+"static/media/logo.e70697a4.svg"},46:function(e){e.exports=JSON.parse('{"a":"/api"}')},518:function(e,t,a){e.exports=a.p+"static/media/Login.2f0ec6d7.png"},519:function(e,t,a){e.exports=a.p+"static/media/dev.288bfba6.png"},523:function(e,t,a){e.exports=a.p+"static/media/IWM.3764b964.png"},524:function(e,t,a){e.exports=a.p+"static/media/GME.f7ae4790.png"},525:function(e,t,a){e.exports=a.p+"static/media/qqq.229d7574.png"},527:function(e,t,a){e.exports=a.p+"static/media/404.940ce23f.png"},528:function(e,t,a){e.exports=a.p+"static/media/money.5f22ff37.png"},555:function(e,t,a){e.exports=a(1016)},64:function(e){e.exports=JSON.parse('[{"id":1,"Company":"Nasdaq 100","Stock":"QQQ","Health":90,"userPreference":true},{"id":2,"Company":"Healthcare","Stock":"XLV","Health":89,"userPreference":true},{"id":3,"Company":"SaaS","Stock":"IGV","Health":84,"userPreference":true},{"id":4,"Company":"Speculative Biotech","Stock":"XBI","Health":68,"userPreference":true},{"id":5,"Company":"Energy","Stock":"XLE","Health":24,"userPreference":false},{"id":6,"Company":"Small Caps","Stock":"IWM","Health":52,"userPreference":false},{"id":7,"Company":"China 25","Stock":"FXI","Health":42,"userPreference":false},{"id":8,"Company":"Semiconductors","Stock":"SMH","Health":96,"userPreference":false},{"id":9,"Company":"Microcaps","Stock":"IWC","Health":50,"userPreference":false}]')},819:function(e,t){},833:function(e,t){},835:function(e,t){}},[[555,1,2]]]);
//# sourceMappingURL=main.ab9406e9.chunk.js.map